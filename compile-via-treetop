#!/usr/bin/env ruby
require_relative 'helpers'

parse_opts = {
  errstream:    $stderr,
  parser_class: BuildTheParser(grammar_file: 'whatevz.treetop', compile: true),
  body:         <<-BODY.gsub(/^\s*/, ''),
    x + x
    x - @y
    x - @y
    x - @y
    x - @y
    abc.def.ghi
  BODY
}

# doubt I'll ever get to this point, but w/e!
if ARGV.include? 'zomg'
  parse_opts[:body] = File.read 'zomg'
end

p Parse(parse_opts).to_ast
